---
title: Geolocation
description: Learn how to use the LocationButton component and the useGeolocation hook for retrieving user location.
---

import LocationExample from '../../../../src/components/GeoLocation/Example.tsx';
import HooksExample from '../../../../src/components/GeoLocation/HooksExample.tsx';
import { Tab, Tabs } from 'rspress/theme';

# 📍 Geolocation Component

The **`LocationButton`** component is a controlled button designed to trigger the browser's `navigator.geolocation` API, working seamlessly with the **`useGeolocation`** hook.

## Props

The **`LocationButton`** leverages the standard `children` prop for its content and follows common React naming conventions for handlers and state.

| Prop | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| `children` | `React.ReactNode` | `"Get Location"` | The content displayed on the button when it's **not** fetching. |
| `onClick` | `() => void` | `required` | The function (e.g., `fetchLocation` from the hook) to execute on button click. |
| `isLoading` | `boolean` | `false` | Boolean state indicating if the location request is currently in progress. |
| `className` | `string` | `""` | Optional custom CSS classes. |

## Component Usage

The **`LocationButton`** is used to encapsulate the UI logic, while the **`useGeolocation`** hook provides the data and control functions.


<Tabs>
  <Tab label="Demo"><LocationExample /></Tab>
  <Tab label="Code">
```tsx
import React, { useEffect, useRef } from "react";
import { LocationButton, useGeolocation } from "skayajs";
import Globe from "react-globe.gl";

interface LocationProps {
  label?: string;
}

const Location: React.FC<LocationProps> = ({
  label = "Get My Location",
}) => {
  const { location, isLoading, fetchLocation, resetLocation } = useGeolocation();
  const globeRef = useRef<any>(null);

  useEffect(() => {
    if (location.latitude && location.longitude) {
      globeRef.current?.pointOfView(
        { lat: location.latitude, lng: location.longitude, altitude: 1.5 },
        1500
      );
    }
  }, [location]);

  return (
    <div className="flex flex-col items-center rounded-xl shadow-md space-y-6 text-center">
      {/* Globe */}
      <Globe
        ref={globeRef}
        width={400}
        height={400}
        globeImageUrl="//unpkg.com/three-globe/example/img/earth-dark.jpg"
        pointsData={
          location.latitude && location.longitude
            ? [{ lat: location.latitude, lng: location.longitude, size: 1 }]
            : []
        }
        pointAltitude={0.2}
        pointColor={() => "red"}
      />

      {/* Location Info */}
      <div className="p-4 w-full bg-blue-200 dark:bg-blue-800 rounded-lg ">
        {location.latitude && location.longitude ? (
          <>
            <p>
              <span className="font-semibold">Latitude:</span>{" "}
              {location.latitude}
            </p>
            <p>
              <span className="font-semibold">Longitude:</span>{" "}
              {location.longitude}
            </p>
          </>
        ) : (
          <p className={location.error ? "text-red-800 dark:text-red-300" : "text-gray-500"}>
            {location.error || "Location data is not available."}
          </p>
        )}
      </div>

      {/* Actions */}
      <div className="flex gap-2">
        <LocationButton
          onClick={fetchLocation}
          isLoading={isLoading}
          className="px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors"
        >
          {label}
        </LocationButton>
        <button
          onClick={resetLocation}
          className="px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors"
        >
          Reset
        </button>
      </div>
    </div>
  );
};

export default Location
```
</Tab>
</Tabs>

## Hooks Usage

If you need programmatic control or prefer to use your own UI components, the useGeolocation hook provides full access to the API status.

<Tabs>
  <Tab label="Demo"><HooksExample /></Tab>
  <Tab label="Code">
```tsx
import { useEffect } from "react";
import { useGeolocation } from "skayajs";

export default function GeoLocation() {
  const { location, isLoading, fetchLocation } = useGeolocation();

  useEffect(() => {
    fetchLocation(); 
  }, [fetchLocation]);

  if (isLoading) return <p>Loading...</p>;
  if (location.error) return <p>Error: {location.error}</p>;
  if (!location.latitude || !location.longitude) return <p>No location data available.</p>;

  return (
    <p>
      Latitude: {location.latitude?.toFixed(5)}, Longitude: {location.longitude?.toFixed(5)}
    </p>
  );
}
```
</Tab>
</Tabs>




## Usage with MUI Button

```tsx
import { useGeolocation } from "skayajs";
import { Button, CircularProgress } from "@mui/material";

function MUIExample() {
  const { location, isLoading, fetchLocation } = useGeolocation();

  return (
    <div>
      <Button
        variant="contained"
        color="primary"
        onClick={fetchLocation}
        disabled={isLoading}
      >
        {loading ? <CircularProgress size={20} sx={{ color: "white", mr: 1 }} /> : "Get My Location"}
      </Button>

      {location.error && <p style={{ color: "red" }}>{location.error}</p>}
      {location.latitude && location.longitude && (
        <p>
          Latitude: {location.latitude.toFixed(5)}, Longitude: {location.longitude.toFixed(5)}
        </p>
      )}
    </div>
  );
}
```